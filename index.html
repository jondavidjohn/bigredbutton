<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="apple-mobile-web-app-capable" content="yes">
		<title>The Big Red Button: Stress Free WordPress Deployment</title>
		<meta name="author" content="Jonathan D. Johnson">
		<meta name="description" content="The Big Red Button: Stress Free WordPress Deployment">
		<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Telex">
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css">
		<link rel="stylesheet" href="style.css">
		<link rel="stylesheet" href="steps.css">
		<link rel="shortcut icon" href="favicon.png">
		<link rel="canonical" href="h">
	</head>
	<body class="impress-not-supported">
		<div class="fallback-message">
			Your browser doesn't appear to support impress js, I sincerely suggest you come back in <a href="http://www.google.com/chrome/" target="_blank">Chrome</a>.
		</div>
		<div id="impress">

			<div id="author" data-x="-800" data-y="-5000" data-z="2000" data-rotate="130" data-rotate-x="30" data-rotate-y="-10" data-scale="2" class="step">
				<div class="left">
					<div class="avatar"></div>
					<ul>
						<li class="twitter"><a href="https://twitter.com/jondavidjohn">jondavidjohn</a></li>
						<li class="github"><a href="https://github.com/jondavidjohn">jondavidjohn</a></li>
						<li class="stackoverflow"><a href="http://careers.stackoverflow.com/jonathanjohnson">jondavidjohn</a></li>
						<li class="link"><a href="http://jondavidjohn.com">jondavidjohn.com</a></li>
					</ul>
				</div>
				<div class="right">
					<h2>Jonathan D. Johnson</h2>
					<p>I am a Developer and Operations Engineer that is in love with building, learning, and teaching.</p>
					<p>I help build things and automate processes at <a href="http://crowdfavorite.com/" alt="Crowd Favorite" title="Crowd Favorite">Crowd Favorite</a></p>
				</div>
			</div>

			<div id="title" data-x="1000" data-y="-4000" data-z="3000" data-rotate="130" data-rotate-x="30" data-rotate-y="-10" data-scale="2" class="step">
				<h1>
					<span class="article">The</span><br />
					<span class="adj">Big Red</span><br />
					<span class="noun">Button</span>
				</h1>
				<div class="subtitle">Stress Free WordPress Deployment</div>
			</div>

			<div id="jargon" data-x="0" data-y="-1330" data-rotate="90" class="step">
				<p>A <em>deployment</em> is the process of moving code updates into your production environment.</p>

				<h2>Common deployment strategies include</h2>
				<ul>
					<li class="ftp">Uploading Files via FTP</li>
					<li class="scm">Pulling changes via Source Control</li>
				</ul>
			</div>

			<div id="ftpdeploy-1" data-x="0" data-y="1280" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<div class="fa start">&#xF108;</div>
				<div class="inner">
					<div class="fa ftpwindow">&#xF0DB;</div>
					<p>Manual processes in the typical <em>FTP</em> deployment workflow</p>
				</div>
			</div>

			<div id="ftpdeploy-2" data-x="800" data-y="1280" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<p>You select the files you are going to upload.</p>

				<h2>Stressors</h2>
				<ul>
					<li>Are you sure you have all the updated files selected?</li>
					<li>Has anyone edited those files since you began?</li>
				</ul>
			</div>

			<div id="ftpdeploy-3" data-x="1600" data-y="1280" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<p>You drag them over the server window of your FTP client.</p>

				<h2>Stressors</h2>
				<ul>
					<li>Did I test these changes thoroughly enough?</li>
					<li>Did I follow the deployment checklist perfectly? <br><em>(no, in fact you didn't)</em></li>
				</ul>
			</div>

			<div id="ftpdeploy-4" data-x="2400" data-y="1280" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<p>You release the files.</p>
				<p><em>One by one</em>, each file is transferred into place <em>sequentially</em>.</p>

				<h2>Stressors</h2>
				<ul>
					<li>What if my connection is dropped half way through the upload?</li>
					<li>Do I really want people hitting the site when it's halfway updated?</li>
				</ul>
			</div>

			<div id="ftpdeploy-5" data-x="3000" data-y="1280" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<div class="fa cloud">&#xF0C2;</div>
				<div class="fa smile">&#xF118;</div>
			</div>

			<div id="ftpdeploy-6" data-x="3000" data-y="1280" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<div class="fa cloud">&#xF0C2;</div>
				<div class="fa smile frown">&#xF119;</div>
			</div>

			<div id="ftpdeploy-revert" data-x="3000" data-y="3000" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<p>What to do now?</p>
				<ul>
					<li>Did you know which files you updated so you can revert them?</li>
					<li>Better yet, did you make backups of all the files you updated?</li>
					<li>Do you resort to editing files in production?</li>
				</ul>
			</div>

			<div id="ftpdeploy-revert-2" data-x="2400" data-y="3000" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<p>Going forward, how do you minimize the risk?</p>
				<ul>
					<li>Make a checklist? or add to it?</li>
					<li>Push code out less often? only in the middle of the night?</li>
					<li><em>"My bad, I'll try really hard not to make that mistake again."</em></li>
				</ul>
			</div>

			<div id="ftpdeploy-revert-3" data-x="1600" data-y="3000" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<blockquote>
					Lets plan for a future where we're all just as stupid as we are today.
					<cite>Dan Milstein (<a href="http://twitter.com/danmil">@danmil</a>)</cite>
				</blockquote>
			</div>

			<div id="ftpdeploy-revert-4" align="center" data-x="800" data-y="3000" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<img src="img/aatt.jpg" alt="allthethings"/>
				<p>We're programmers, <em>professional automators</em>.</p>
				<p>We can do better.</p>
			</div>

			<div id="ftpdeploy-revert-5" data-x="0" data-y="3000" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<h2><a href="https://github.com/capistrano/capistrano/wiki/2.x-Getting-Started">capistrano</a></h2>
				<p>An open source tool for running scripts on one or more remote servers simultaneously.  It's primary use is deploying websites.</p>
				<h2><a href="https://github.com/crowdfavorite/gem-capistrano-wp">capistrano-wp</a></h2>
				<p>A Capistrano plugin used for deploying WordPress specifically.</p>
			</div>


			<div id="capdeploy-1" data-x="0" data-y="4370" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<div class="fa start">&#xF108;</div>
				<div class="inner">
					<code>$> cap deploy</code>
				</div>
			</div>

			<div id="capdeploy-2" data-x="3000" data-y="4370" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<div class="fa cloud">&#xF0C2;</div>
				<div class="fa smile">&#xF118;</div>
			</div>

			<div id="capdeploy-3" data-x="3000" data-y="4370" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<div class="fa cloud">&#xF0C2;</div>
				<div class="fa smile frown">&#xF119;</div>
			</div>

			<div id="capdeploy-4" data-x="0" data-y="4370" data-rotate="90" data-rotate-y="-45" class="step deploy rollback">
				<div class="fa start">&#xF108;</div>
				<div class="inner">
					<code>$> cap deploy<em>:rollback</em></code>
				</div>
			</div>

			<div id="capdeploy-5" data-x="3000" data-y="4370" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<div class="fa cloud">&#xF0C2;</div>
				<div class="fa smile">&#xF118;</div>
			</div>

			<div id="how-cap-works" data-x="3000" data-y="6090" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<h2>How it works</h2>
				<p>
					Capistrano runs bash commands remotely via an SSH connection on one or more remote servers.  These commands
					comprise a set of recipies that have been battle hardened to provide a reliable and repeatable process
					to confidently deploy your web site or application.
				</p>
			</div>

			<div id="how-cap-works-2" data-x="3000" data-y="7810" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<h2>Releases</h2>
				<p>
					A <em>release</em> is the result of a Capistrano deployment, the resulting webroot containing your
					project and it's latest changes.
				</p>
				<p>
					Capistrano builds up a new release directory for
					every deployment and retains a defined number of previous
					releases, each with their own self contained directories.
				</p>
			</div>

			<div id="how-cap-works-3" data-x="3000" data-y="9530" data-rotate="90" data-rotate-y="-45" class="step deploy last">
				<h2>Symlinks</h2>
				<p>Capistrano uses the power of symlinks maintain directory structures that need to be shared accross all releases.</p>
				<p>It also uses a symlink to specify the current release.</p>
			</div>

			<div id="how-cap-works-4" data-x="3000" data-y="11250" data-rotate="90" data-rotate-y="-45" class="step deploy cap-diagram">
				<div class="shared">
					<h2><span class="fa">&#xf07c;</span> shared/</h2>
					<ul>
						<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
					</ul>
				</div>
				<div class="releases">
					<h2><span class="fa">&#xf07c;</span> releases/</h2>
					<div class="release">
						<h3>201308291323/</h3>
						<ul>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li class="symlink">&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
						</ul>
					</div>
					<div class="release">
						<h3>201310292312/</h3>
						<ul>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li class="symlink">&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
						</ul>
					</div>
				</div>
				<div class="www">
					<h2>www</h2>
				</div>
				<div class="lines">
					<div class="shared-release-1"></div>
					<div class="shared-release-3"></div>
					<div class="current-1"></div>
				</div>
			</div>
			<div id="how-cap-works-5" data-x="3000" data-y="11250" data-rotate="90" data-rotate-y="-45" class="step deploy cap-diagram">
				<div class="shared">
					<h2><span class="fa">&#xf07c;</span> shared/</h2>
					<ul>
						<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
					</ul>
				</div>
				<div class="releases">
					<h2><span class="fa">&#xf07c;</span> releases/</h2>
					<div class="release">
						<h3>201308291323/</h3>
						<ul>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li class="symlink">&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
						</ul>
					</div>
					<div class="release">
						<h3>201310292312/</h3>
						<ul>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li class="symlink">&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
						</ul>
					</div>
					<div class="release">
						<h3>201311030421/</h3>
						<ul>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li class="symlink">&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
						</ul>
					</div>
				</div>
				<div class="www">
					<h2>www</h2>
				</div>
				<div class="lines">
					<div class="shared-release-1"></div>
					<div class="shared-release-2"></div>
					<div class="shared-release-3"></div>
					<div class="current-1"></div>
				</div>
			</div>
			<div id="how-cap-works-6" data-x="3000" data-y="11250" data-rotate="90" data-rotate-y="-45" class="step deploy cap-diagram">
				<div class="shared">
					<h2><span class="fa">&#xf07c;</span> shared/</h2>
					<ul>
						<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
					</ul>
				</div>
				<div class="releases">
					<h2><span class="fa">&#xf07c;</span> releases/</h2>
					<div class="release">
						<h3>201308291323/</h3>
						<ul>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li class="symlink">&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
						</ul>
					</div>
					<div class="release">
						<h3>201310292312/</h3>
						<ul>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li class="symlink">&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
						</ul>
					</div>
					<div class="release">
						<h3>201311030421/</h3>
						<ul>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li class="symlink">&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
							<li>&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;&#9608;</li>
						</ul>
					</div>
				</div>
				<div class="www">
					<h2>www</h2>
				</div>
				<div class="lines">
					<div class="shared-release-1"></div>
					<div class="shared-release-2"></div>
					<div class="shared-release-3"></div>
					<div class="current-2"></div>
				</div>
			</div>
			<div id="additional-capistrano-features" data-x="2200" data-y="11250" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<h2>Additional Capistrano Features</h2>
				<ul>
					<li>Easily extendable</li>
					<li>Multi-Stage Support</li>
					<li>Transparent multi-server support</li>
				</ul>
			</div>
			<div id="capistrano-wp-features" data-x="1400" data-y="11250" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<h2>Capistrano-WP Features</h2>
				<ul>
					<li>Check current release for changes since the last deploy</li>
					<li>Handle WordPress via SVN</li>
					<li>Stage Specific Config files</li>
				</ul>
			</div>
			<div id="requirements" data-x="600" data-y="11250" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<h2>Requirements</h2>
				<ul>
					<li>SSH Access to your Hosting Environment</li>
					<li>Usage of a Version Control System (subversion, git, etc..)</li>
					<li>Your repository root should correspond to your webroot</li>
				</ul>
			</div>
			<div id="install" data-x="600" data-y="12970" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<h2>Installation</h2>
				<p><code>capistrano-wp</code> is distributed in the form of a Ruby Gem.</p>
				<p>RubyGems is the standard package manager for Ruby and is included in Ruby 1.9 and later.</p>
				<p>Ruby and RubyGems are pre-installed on the later versions of OSX and installers are available for Windows environments.</p>
				<pre>gem install capistrano-wp</pre>
			</div>
			<div id="project-setup" data-x="600" data-y="14690" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<h2>Setting up a project</h2>
				<pre>cd path/to/project
capify-wp .</pre>
				<p>This will create a <code>Capfile</code> and a group of config files under the <code>config/</code> directory.</p>
				<p>There are a few items in these files that will need to be modified for your project and deployment targets.</p>
				<p>These files should be commited to version control.</p>
			</div>
			<div id="demo" data-x="600" data-y="16410" style="text-align:center" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<h2>Demo</h2>
			</div>
			<div id="conclusion" data-x="600" data-y="18130" data-rotate="90" data-rotate-y="-45" class="step deploy">
				<h2>Takeaways</h2>
				<ul>
					<li>Don't accept broken processes</li>
					<li>Automation can help solidify and communicate processes</li>
					<li>Automation is also about accessibility</li>
				</ul>
			</div>
			<div id="credits" data-x="-4000" data-y="8130" data-rotate="90" data-rotate-y="-45" data-scale="15" class="step">
				<p>jondavidjohn.com/wcden13</p>
			</div>
		</div>
		<div class="hint">
			<p>Use spacebar, arrow keys or page up / down to navigate</p>
		</div>
		<script src="lib/impressjs/js/impress.js"></script>
		<script src="notes.js"></script>
		<script>
			if ('ontouchstart' in document.documentElement) {
				document.querySelector('.hint').innerHTML = '<p>Tap on the left or right to navigate</p>';
			}
			impress().init();
			!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="http://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
			(function() {
			  var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
			  po.src = 'https://apis.google.com/js/plusone.js';
			  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
			})();
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', '']);
			_gaq.push(['_trackPageview']);
			(function() {
			  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
			window.addEventListener('hashchange', function() {
			  _gaq.push(['_trackEvent', 'Step', 'move', window.location.hash]);
}, false);
		</script>
	</body>
</html>
